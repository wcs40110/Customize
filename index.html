<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shady Creek Design Co</title>
  <link href="https://fonts.googleapis.com/css2?family=Satisfy&family=Righteous&family=Grand+Hotel&family=Short+Stack&family=Love+Ya+Like+A+Sister&family=Ribeye+Marrow&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      margin-top: 2rem;
      margin-bottom: 1rem;
      font-size: 1.5rem;
      text-align: center;
    }
    form {
      background: #fff;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.08);
      display: flex;
      flex-direction: column;
      gap: 1rem;
      width: 95vw;
      max-width: 400px;
    }
    label {
      font-weight: bold;
      margin-bottom: 0.25rem;
      font-size: 1rem;
    }
    input, select, button {
      width: 100%;
      font-size: 1rem;
      margin: 0;
      padding: 0.5rem;
      border-radius: 6px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
    select option[value="Satisfy"] { font-family: 'Satisfy', cursive; }
    select option[value="Righteous"] { font-family: 'Righteous', sans-serif; }
    select option[value="Grand Hotel"] { font-family: 'Grand Hotel', cursive; }
    select option[value="Short Stack"] { font-family: 'Short Stack', cursive; }
    select option[value="Love Ya Like A Sister"] { font-family: 'Love Ya Like A Sister', cursive; }
    select option[value="Ribeye Marrow"] { font-family: 'Ribeye Marrow', cursive; }

    button {
      background: #3b82f6;
      color: white;
      font-weight: bold;
      border: none;
      margin-top: 0.5rem;
      cursor: pointer;
      transition: background 0.2s;
    }
    button:disabled {
      background: #bbb;
      cursor: not-allowed;
    }
    button:hover:not(:disabled) {
      background: #2563eb;
    }
    #svgPreview {
      margin: 2rem 0 1rem 0;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.06);
      padding: 1rem;
      width: 95vw;
      max-width: 400px;
      min-height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      word-break: break-all;
    }
    @media (max-width: 500px) {
      h1 { font-size: 1.1rem; }
      form, #svgPreview { max-width: 98vw; }
    }
  </style>
</head>
<body>
  <h1>Shady Creek Deisgn Co.</h1>
  <h2> If you have more than one item being engraved please fill one seperate forms. If identical items are being engraved, such as two black cats, simply number them. ie Black Cat 1, Black Cat 2.</h2>
  <form id="svgForm" autocomplete="off" onsubmit="event.preventDefault();">
    <div>
      <label for="customerInput">Customer Name:</label>
      <input type="text" id="customerInput" placeholder="e.g. John Jacob" required />
    </div>
    <div>
      <label for="descInput">Item Being Engraved:</label>
      <input type="text" id="descInput" placeholder="e.g. Black Cat 1" required />
    </div>
    <div>
      <label for="textInput">Customization:</label>
      <input type="text" id="textInput" placeholder="Enter Text to Be Engraved" required />
    </div>
    <div>
      <label for="fontSelector">Select a Font:</label>
      <select id="fontSelector">
        <option value="Satisfy" style="font-family: 'Satisfy', cursive;">Satisfy</option>
        <option value="Righteous" style="font-family: 'Righteous', sans-serif;">Righteous</option>
        <option value="Grand Hotel" style="font-family: 'Grand Hotel', cursive;">Grand Hotel</option>
        <option value="Short Stack" style="font-family: 'Short Stack', cursive;">Short Stack</option>
        <option value="Love Ya Like A Sister" style="font-family: 'Love Ya Like A Sister', cursive;">Love Ya Like a Sister</option>
        <option value="Ribeye Marrow" style="font-family: 'Ribeye Marrow', cursive;">Ribeye Marrow</option>
      </select>
    </div>
    <button type="button" id="downloadBtn" onclick="downloadSVG()" disabled>Submit</button>
  </form>
  <div id="svgPreview"></div>
  <script>
    function escapeHTML(str) {
      return str.replace(/[&<>"']/g, function (m) {
        return ({
          '&': '&amp;',
          '<': '&lt;',
          '>': '&gt;',
          '"': '&quot;',
          "'": '&#39;'
        })[m];
      });
    }

    function generateSVG() {
      const text = document.getElementById('textInput').value;
      const font = document.getElementById('fontSelector').value;
      const svg = `
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 100">
          <style>
            .customText {
              font-family: "${font}", sans-serif;
              font-size: 24px;
              fill: black;
            }
          </style>
          <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" class="customText">
            ${escapeHTML(text)}
          </text>
        </svg>
      `;
      document.getElementById('svgPreview').innerHTML = svg;
      document.getElementById('downloadBtn').disabled = !text;
    }

    function downloadSVG() {
      const svgElement = document.getElementById('svgPreview').innerHTML;
      const customer = document.getElementById('customerInput').value.trim() || "Customer";
      const desc = document.getElementById('descInput').value.trim() || "Design";
      const filename = `${sanitizeFilename(customer)}-${sanitizeFilename(desc)}.svg`;

      const blob = new Blob([svgElement], { type: 'image/svg+xml' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }

    function sanitizeFilename(name) {
      // Remove characters not allowed in filenames
      return name.replace(/[^a-z0-9_-]/gi, '_');
    }

    // Add automatic update listeners
    window.addEventListener('DOMContentLoaded', function () {
      ['textInput', 'fontSelector', 'customerInput', 'descInput'].forEach(function(id) {
        document.getElementById(id).addEventListener(
          (id === 'fontSelector' ? 'change' : 'input'),
          generateSVG
        );
      });
      generateSVG();
    });
  </script>
</body>
</html>
